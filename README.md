# üéÆ Gambiarra LLM Club Arena Local
```
‚ï±‚ï≠‚îÅ‚îÅ‚îÅ‚ïÆ‚ï±‚ï≠‚îÅ‚îÅ‚îÅ‚ïÆ‚ï±‚ï≠‚îÅ‚ïÆ‚ï≠‚îÅ‚ïÆ‚ï±‚ï≠‚îÅ‚îÅ‚ïÆ‚ï±‚ï±‚ï≠‚îÅ‚îÅ‚ïÆ‚ï±‚ï≠‚îÅ‚îÅ‚îÅ‚ïÆ‚ï±‚ï≠‚îÅ‚îÅ‚îÅ‚ïÆ‚ï±‚ï≠‚îÅ‚îÅ‚îÅ‚ïÆ‚ï±‚ï≠‚îÅ‚îÅ‚îÅ‚ïÆ‚ï±‚ï±‚ï±‚ï±‚ï±‚ï≠‚îÅ‚îÅ‚îÅ‚ïÆ‚ï±‚ï≠‚îÅ‚îÅ‚îÅ‚ïÆ‚ï±‚ï≠‚îÅ‚îÅ‚îÅ‚ïÆ‚ï±‚ï≠‚îÅ‚ïÆ‚ï±‚ï≠‚ïÆ‚ï±‚ï≠‚îÅ‚îÅ‚îÅ‚ïÆ
‚ï±‚îÉ‚ï≠‚îÅ‚ïÆ‚îÉ‚ï±‚îÉ‚ï≠‚îÅ‚ïÆ‚îÉ‚ï±‚îÉ‚îÉ‚ï∞‚ïØ‚îÉ‚îÉ‚ï±‚îÉ‚ï≠‚ïÆ‚îÉ‚ï±‚ï±‚ï∞‚î´‚î£‚ïØ‚ï±‚îÉ‚ï≠‚îÅ‚ïÆ‚îÉ‚ï±‚îÉ‚ï≠‚îÅ‚ïÆ‚îÉ‚ï±‚îÉ‚ï≠‚îÅ‚ïÆ‚îÉ‚ï±‚îÉ‚ï≠‚îÅ‚ïÆ‚îÉ‚ï±‚ï±‚ï±‚ï±‚ï±‚îÉ‚ï≠‚îÅ‚ïÆ‚îÉ‚ï±‚îÉ‚ï≠‚îÅ‚ïÆ‚îÉ‚ï±‚îÉ‚ï≠‚îÅ‚îÅ‚ïØ‚ï±‚îÉ‚îÉ‚ï∞‚ïÆ‚îÉ‚îÉ‚ï±‚îÉ‚ï≠‚îÅ‚ïÆ‚îÉ
‚ï±‚îÉ‚îÉ‚ï±‚ï∞‚ïØ‚ï±‚îÉ‚îÉ‚ï±‚îÉ‚îÉ‚ï±‚îÉ‚ï≠‚ïÆ‚ï≠‚ïÆ‚îÉ‚ï±‚îÉ‚ï∞‚ïØ‚ï∞‚ïÆ‚ï±‚ï±‚îÉ‚îÉ‚ï±‚ï±‚îÉ‚îÉ‚ï±‚îÉ‚îÉ‚ï±‚îÉ‚ï∞‚îÅ‚ïØ‚îÉ‚ï±‚îÉ‚ï∞‚îÅ‚ïØ‚îÉ‚ï±‚îÉ‚îÉ‚ï±‚îÉ‚îÉ‚ï±‚ï±‚ï±‚ï±‚ï±‚îÉ‚îÉ‚ï±‚îÉ‚îÉ‚ï±‚îÉ‚ï∞‚îÅ‚ïØ‚îÉ‚ï±‚îÉ‚ï∞‚îÅ‚îÅ‚ïÆ‚ï±‚îÉ‚ï≠‚ïÆ‚ï∞‚ïØ‚îÉ‚ï±‚îÉ‚îÉ‚ï±‚îÉ‚îÉ
‚ï±‚îÉ‚îÉ‚ï≠‚îÅ‚ïÆ‚ï±‚îÉ‚ï∞‚îÅ‚ïØ‚îÉ‚ï±‚îÉ‚îÉ‚îÉ‚îÉ‚îÉ‚îÉ‚ï±‚îÉ‚ï≠‚îÅ‚ïÆ‚îÉ‚ï±‚ï±‚îÉ‚îÉ‚ï±‚ï±‚îÉ‚ï∞‚îÅ‚ïØ‚îÉ‚ï±‚îÉ‚ï≠‚ïÆ‚ï≠‚ïØ‚ï±‚îÉ‚ï≠‚ïÆ‚ï≠‚ïØ‚ï±‚îÉ‚ï∞‚îÅ‚ïØ‚îÉ‚ï±‚ï±‚ï±‚ï±‚ï±‚îÉ‚ï∞‚îÅ‚ïØ‚îÉ‚ï±‚îÉ‚ï≠‚ïÆ‚ï≠‚ïØ‚ï±‚îÉ‚ï≠‚îÅ‚îÅ‚ïØ‚ï±‚îÉ‚îÉ‚ï∞‚ïÆ‚îÉ‚îÉ‚ï±‚îÉ‚ï∞‚îÅ‚ïØ‚îÉ
‚ï±‚îÉ‚ï∞‚îª‚îÅ‚îÉ‚ï±‚îÉ‚ï≠‚îÅ‚ïÆ‚îÉ‚ï±‚îÉ‚îÉ‚îÉ‚îÉ‚îÉ‚îÉ‚ï±‚îÉ‚ï∞‚îÅ‚ïØ‚îÉ‚ï±‚ï≠‚î´‚î£‚ïÆ‚ï±‚îÉ‚ï≠‚îÅ‚ïÆ‚îÉ‚ï±‚îÉ‚îÉ‚îÉ‚ï∞‚ïÆ‚ï±‚îÉ‚îÉ‚îÉ‚ï∞‚ïÆ‚ï±‚îÉ‚ï≠‚îÅ‚ïÆ‚îÉ‚ï±‚ï±‚ï±‚ï±‚ï±‚îÉ‚ï≠‚îÅ‚ïÆ‚îÉ‚ï±‚îÉ‚îÉ‚îÉ‚ï∞‚ïÆ‚ï±‚îÉ‚ï∞‚îÅ‚îÅ‚ïÆ‚ï±‚îÉ‚îÉ‚ï±‚îÉ‚îÉ‚îÉ‚ï±‚îÉ‚ï≠‚îÅ‚ïÆ‚îÉ
‚ï±‚ï∞‚îÅ‚îÅ‚îÅ‚ïØ‚ï±‚ï∞‚ïØ‚ï±‚ï∞‚ïØ‚ï±‚ï∞‚ïØ‚ï∞‚ïØ‚ï∞‚ïØ‚ï±‚ï∞‚îÅ‚îÅ‚îÅ‚ïØ‚ï±‚ï∞‚îÅ‚îÅ‚ïØ‚ï±‚ï∞‚ïØ‚ï±‚ï∞‚ïØ‚ï±‚ï∞‚ïØ‚ï∞‚îÅ‚ïØ‚ï±‚ï∞‚ïØ‚ï∞‚îÅ‚ïØ‚ï±‚ï∞‚ïØ‚ï±‚ï∞‚ïØ‚ï±‚ï±‚ï±‚ï±‚ï±‚ï∞‚ïØ‚ï±‚ï∞‚ïØ‚ï±‚ï∞‚ïØ‚ï∞‚îÅ‚ïØ‚ï±‚ï∞‚îÅ‚îÅ‚îÅ‚ïØ‚ï±‚ï∞‚ïØ‚ï±‚ï∞‚îÅ‚ïØ‚ï±‚ï∞‚ïØ‚ï±‚ï∞‚ïØ
```

**[English Version](README_EN.md)**

Arena em LAN para competi√ß√µes criativas com LLMs rodando localmente nos computadores dos participantes.

## Sobre o Clube

O **Gambiarra LLM Club** √© uma comunidade presencial inspirada no lend√°rio Homebrew Computer Club, focada em criatividade e engenhosidade no uso de LLMs locais. Realizamos encontros mensais ou bimestrais onde participantes trazem seus pr√≥prios setups - muitas vezes com hardware limitado - e competem em desafios criativos ao vivo.

**Valores:**
- üîß **Gambiarra**: Solu√ß√µes criativas e improvisadas s√£o celebradas
- üé® **Criatividade**: Valorizamos originalidade acima de benchmarks t√©cnicos
- ü§ù **Comunidade**: Encontros presenciais para troca de conhecimento
- üè† **Local-first**: Todos os modelos rodam localmente, sem depend√™ncia de APIs externas

**Primeiro encontro:** Recife, Brasil - Janeiro 2025

## Jogos Propostos

### ü§ñ Bot a Bot
Dois LLMs debatem um tema pol√™mico em tempo real.
- **Crit√©rios:** Coer√™ncia argumentativa, criatividade nas respostas, capacidade de refuta√ß√£o

### üåê Tradu√ß√£o Infinita
Tradu√ß√£o iterativa atrav√©s de m√∫ltiplos idiomas.
- **Crit√©rios:** Preserva√ß√£o de sentido, flu√™ncia em cada idioma, humor emergente

### üß† Conhecimento com Pegadinhas
Perguntas capciosas que testam racioc√≠nio e conhecimento.
- **Crit√©rios:** Precis√£o factual, detec√ß√£o de pegadinhas, qualidade da explica√ß√£o

### üìñ Continua√ß√£o de Hist√≥ria
Cada LLM continua a hist√≥ria do anterior.
- **Crit√©rios:** Coes√£o narrativa, originalidade, engajamento do p√∫blico

### üé≠ Personagem Oculto
Imitar celebridades ou personagens sem revel√°-los explicitamente.
- **Crit√©rios:** Sutileza nas pistas, precis√£o caracterol√≥gica, dificuldade de descoberta

### ‚ö° Batalha de Gambiarras
Resolver problemas complexos com solu√ß√µes criativas e limita√ß√µes de hardware.
- **Crit√©rios:** Efici√™ncia com recursos limitados, criatividade na solu√ß√£o, velocidade de resposta

## Trof√©us Simb√≥licos

- üèÜ **GPU de Ouro**: Melhor desempenho t√©cnico geral
- üîß **Gambiarra Suprema**: Solu√ß√£o mais criativa com hardware limitado
- üí¨ **Prompt de Platina**: Melhor engenharia de prompt
- ‚ö° **Efici√™ncia M√°xima**: Melhor TPS (tokens por segundo)
- üé≠ **Ator do Ano**: Melhor personifica√ß√£o ou roleplay
- üß† **QI Artificial**: Melhor racioc√≠nio e coer√™ncia

## Stack Tecnol√≥gica

**Por que Node.js com TypeScript e Fastify?**

Escolhemos essa stack por oferecer a melhor combina√ß√£o de performance em WebSocket, seguran√ßa de tipos end-to-end e velocidade de desenvolvimento. Fastify √© excepcional para streaming em tempo real com baixa lat√™ncia, Prisma fornece type-safety no banco de dados, e o ecossistema Node.js facilita o onboarding r√°pido de participantes - cr√≠tico para nossa miss√£o de tornar a plataforma acess√≠vel.

**Stack principal:**
- Backend: Node.js 20+ com TypeScript, Fastify, Prisma ORM
- Backend alternativo: Python 3.9+ com FastAPI, SQLAlchemy, Pydantic
- Frontend: React 18+ com Vite e Tailwind CSS
- Database: SQLite com migra√ß√µes Prisma (Node) ou Alembic (Python)
- WebSocket: @fastify/websocket para streaming de tokens
- Valida√ß√£o: Zod para schemas end-to-end (Node) ou Pydantic (Python)
- Package manager: pnpm para instala√ß√£o r√°pida

### üêç Servidor Python Dispon√≠vel!

Al√©m do servidor Node.js/TypeScript, oferecemos uma implementa√ß√£o completa em Python usando FastAPI:
- **Localiza√ß√£o:** `server-python/`
- **Funcionalidades:** 100% compat√≠vel com os clientes (Python e TypeScript)
- **Documenta√ß√£o:** Ver [server-python/README.md](server-python/README.md)
- **In√≠cio r√°pido:** Ver [server-python/QUICKSTART.md](server-python/QUICKSTART.md)
- **Stack:** FastAPI + SQLAlchemy 2.0 + Pydantic + aiosqlite

**Nota:** O servidor Python usa schema de banco independente. Escolha um servidor (Node.js ou Python) e use-o consistentemente.

## In√≠cio R√°pido

### üê≥ Op√ß√£o 1: Docker (Recomendado - Mais F√°cil!)

**Apenas um comando para rodar tudo:**

```bash
docker compose up
```

Pronto! üéâ A aplica√ß√£o completa estar√° rodando em:
- **Servidor:** http://localhost:3000
- **Tel√£o (Arena):** http://localhost:5173
- **Vota√ß√£o:** http://localhost:5173?view=voting
- **Placar:** http://localhost:5173?view=scoreboard

**Pr√©-requisitos:**
- Docker e Docker Compose instalados

**Comandos √∫teis:**
```bash
# Rodar em background
docker compose up -d

# Ver logs
docker compose logs -f

# Parar
docker compose down

# Reconstruir ap√≥s mudan√ßas
docker compose up --build
```

### üíª Op√ß√£o 2: Desenvolvimento Local

**üéØ Primeira vez?** Siga o [PASSO_A_PASSO.md](PASSO_A_PASSO.md) - um guia completo do zero!

**‚ö° J√° conhece o projeto?** Use o [QUICKSTART.md](QUICKSTART.md) - vers√£o resumida.

**Pr√©-requisitos:**
- Node.js 20+
- pnpm 8+
- Ollama ou LM Studio (opcional, para usar LLMs reais)

**Instala√ß√£o:**

```bash
# Instalar depend√™ncias
pnpm install

# Configurar banco de dados (a partir da raiz)
pnpm --filter @gambiarra/server db:migrate

# Seed com dados de exemplo (PIN: 123456)
pnpm --filter @gambiarra/server seed
```

**Desenvolvimento:**

```bash
# Iniciar todos os servi√ßos (servidor + tel√£o)
pnpm dev
```

Isso iniciar√°:
- Servidor na porta 3000 (http://localhost:3000)
- Tel√£o na porta 5173:
  - Arena: http://localhost:5173
  - Vota√ß√£o: http://localhost:5173?view=voting
  - Placar: http://localhost:5173?view=scoreboard

### Rodando uma Sess√£o Completa

**1. Criar sess√£o (via API):**

```bash
curl -X POST http://localhost:3000/session | jq
# Retorna: { "session_id": "...", "pin": "123456", ... }
```

**2. Criar rodada:**

```bash
curl -X POST http://localhost:3000/rounds \
  -H "Content-Type: application/json" \
  -d '{
    "prompt": "Escreva uma poesia em m√©trica de xote pernambucano sobre IA",
    "maxTokens": 400,
    "temperature": 0.8,
    "deadlineMs": 90000
  }' | jq

# Retorna o roundId
```

**3. Iniciar rodada:**

```bash
curl -X POST http://localhost:3000/rounds/start \
  -H "Content-Type: application/json" \
  -d '{"roundId": "ROUND_ID_AQUI"}' | jq
```

**4. Conectar participantes:**

Terminal 1 (cliente TypeScript com Ollama):
```bash
cd client-typescript
pnpm dev \
  --url ws://localhost:3000/ws \
  --pin 123456 \
  --participant-id ana-desktop \
  --nickname Ana \
  --runner ollama \
  --model llama3.1:8b
```

Terminal 2 (cliente TypeScript com mock):
```bash
cd client-typescript
pnpm dev \
  --url ws://localhost:3000/ws \
  --pin 123456 \
  --participant-id bruno-sim \
  --nickname Bruno \
  --runner mock
```

**5. Ou usar simula√ß√£o autom√°tica:**

```bash
# Conecta 5 clientes simulados automaticamente
pnpm simulate
```

**6. Acompanhar no tel√£o:**

Abra http://localhost:5173 para ver a arena ao vivo.

**7. Votar:**

Abra http://localhost:5173?view=voting ou escaneie o QR code no tel√£o.

**8. Exportar resultados:**

```bash
curl http://localhost:3000/export.csv > resultados.csv
```

## Estrutura do Projeto

```
gambiarra-club-framework-chatgpt/
‚îú‚îÄ‚îÄ server/              # Backend Fastify com WebSocket
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ws/          # WebSocket hub e schemas
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ http/        # Rotas HTTP
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ core/        # L√≥gica de neg√≥cio (rounds, votes, metrics)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ db/          # Prisma schema e migra√ß√µes
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ client-typescript/   # CLI TypeScript para participantes
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ runners/     # Integra√ß√µes Ollama, LM Studio, Mock
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ net/         # Cliente WebSocket
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ scripts/     # Simula√ß√£o
‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ telao/               # Frontend React
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îî‚îÄ‚îÄ components/
‚îî‚îÄ‚îÄ docker-compose.yml
```

> **Nota:** O cliente Python foi movido para um reposit√≥rio separado. Para mais informa√ß√µes, consulte o README no novo reposit√≥rio.

## Criando Novos Desafios

Edite os prompts ao criar rodadas via API POST `/rounds`:

```json
{
  "prompt": "Seu desafio criativo aqui",
  "maxTokens": 400,
  "temperature": 0.8,
  "deadlineMs": 90000,
  "seed": 1234
}
```

## Alterando Pesos de Pontua√ß√£o

A pontua√ß√£o atual √© baseada em votos do p√∫blico (1-5). Para customizar:

1. Edite `server/src/core/votes.ts` na fun√ß√£o `getScoreboard()`
2. Adicione novos crit√©rios (ex: velocidade, efici√™ncia)
3. Ajuste a f√≥rmula de `total_score`

Exemplo:
```typescript
return {
  // ... outros campos
  total_score: (avgScore * 0.6) + (tpsAvg * 0.4) // 60% votos, 40% velocidade
};
```

## Testes

```bash
# Rodar todos os testes
pnpm test

# Com cobertura
pnpm test:coverage

# Teste de carga (50 clientes por 30s)
cd client
pnpm simulate
```

## Troubleshooting

**Ollama n√£o conecta:**
```bash
# Verificar se Ollama est√° rodando
curl http://localhost:11434/api/tags

# Iniciar Ollama
ollama serve
```

**LM Studio n√£o conecta:**
- Abra LM Studio
- V√° em "Local Server"
- Clique em "Start Server"
- Porta padr√£o: 1234

**WebSocket desconecta:**
- Verifique firewall/antiv√≠rus
- Use `--url ws://IP_DA_REDE_LOCAL:3000/ws` em vez de localhost

## Contribuindo

1. Fork o reposit√≥rio
2. Crie uma branch para sua feature (`git checkout -b feature/nova-gambiarra`)
3. Commit suas mudan√ßas (`git commit -m 'Adiciona nova gambiarra'`)
4. Push para a branch (`git push origin feature/nova-gambiarra`)
5. Abra um Pull Request

## Licen√ßa

MIT

## Contato

- GitHub Issues: Para reportar bugs ou sugerir features
- Encontros presenciais: Consulte nosso calend√°rio de eventos

---

**Feito com ‚ù§Ô∏è e muita gambiarra pelo Gambiarra LLM Club**
